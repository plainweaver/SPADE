{"version":3,"sources":["../../src/utils/level-prefixer.js"],"names":["module","exports","seperator","sepBuffer","toBuffer","prefix","key","stringify","data","toString","JSON","Buffer","isBuffer","concat","TypeError","value","from"],"mappings":";;AAAAA,MAAM,CAACC,OAAP,GAAiB,UAAUC,SAAV,EAAqB;AACpC,MAAI,CAACA,SAAL,EAAgBA,SAAS,GAAG,GAAZ;AAChB,QAAMC,SAAS,GAAGC,QAAQ,CAACF,SAAD,CAA1B;AAEA,SAAO,UAAUG,MAAV,EAAkBC,GAAlB,EAAuB;AAC5B,aAASC,SAAT,CAAmBC,IAAnB,EAAyB;AACvB,UAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8BA,IAAI,GAAGA,IAAI,CAACC,QAAL,EAAP,CAA9B,KACK,IAAI,OAAOD,IAAP,KAAgB,QAApB,EAA8BA,IAAI,GAAGE,IAAI,CAACH,SAAL,CAAeC,IAAf,CAAP;AAEnC,aAAOA,IAAP;AACD;;AAEDH,IAAAA,MAAM,GAAGE,SAAS,CAACF,MAAD,CAAlB;AACAC,IAAAA,GAAG,GAAGC,SAAS,CAACD,GAAD,CAAf;AAEA,QAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B,OAAOJ,SAAS,GAAGG,MAAZ,GAAqBH,SAArB,GAAiCI,GAAxC,CAA7B,KACK,IAAIK,MAAM,CAACC,QAAP,CAAgBN,GAAhB,CAAJ,EAA0B,OAAOK,MAAM,CAACE,MAAP,CAAc,CAACV,SAAD,EAAYC,QAAQ,CAACC,MAAD,CAApB,EAA8BF,SAA9B,EAAyCG,GAAzC,CAAd,CAAP;AAE/B,UAAM,IAAIQ,SAAJ,CAAc,oCAAd,CAAN;AACD,GAfD;AAgBD,CApBD;;AAsBA,SAASV,QAAT,CAAmBW,KAAnB,EAA0B;AACxB,SAAOJ,MAAM,CAACC,QAAP,CAAgBG,KAAhB,IAAyBA,KAAzB,GAAiCJ,MAAM,CAACK,IAAP,CAAYD,KAAZ,CAAxC;AACD","sourcesContent":["module.exports = function (seperator) {\n  if (!seperator) seperator = '!';\n  const sepBuffer = toBuffer(seperator);\n\n  return function (prefix, key) {\n    function stringify(data) {\n      if (typeof data === 'number') data = data.toString();\n      else if (typeof data === 'object') data = JSON.stringify(data);\n\n      return data;\n    }\n\n    prefix = stringify(prefix);\n    key = stringify(key);\n\n    if (typeof key === 'string') return seperator + prefix + seperator + key;\n    else if (Buffer.isBuffer(key)) return Buffer.concat([sepBuffer, toBuffer(prefix), sepBuffer, key]);\n\n    throw new TypeError('unsupported type of prefix or key.');\n  }\n};\n\nfunction toBuffer (value) {\n  return Buffer.isBuffer(value) ? value : Buffer.from(value)\n}\n"],"file":"level-prefixer.js"}