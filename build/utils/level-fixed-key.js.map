{"version":3,"sources":["../../src/utils/level-fixed-key.js"],"names":["module","exports","storage","keyName","mockKeyArg","fixedStorage","put","key","value","get","del"],"mappings":";;AAAA;;AACA;;;;AAEA;AACA;AAEAA,MAAM,CAACC,OAAP,GAAiB,UAAUC,OAAV,EAAmBC,OAAnB,EAA4B;AAAEC,EAAAA;AAAF,CAA5B,EAA4C;AAC3D,QAAMC,YAAY,GAAG,EAAE,GAAGH;AAAL,GAArB;AAEA,MAAI,CAACE,UAAL,EAAiBA,UAAU,GAAG,IAAb;AAEjBC,EAAAA,YAAY,CAACC,GAAb,GAAmB,uCAAe,gBAAeC,GAAf,EAAoBC,KAApB,EAA2B;AAC3D,QAAI,CAACJ,UAAL,EAAiBI,KAAK,GAAGD,GAAR;AACjB,WAAO,MAAML,OAAO,CAACI,GAAR,CAAYH,OAAZ,EAAqBK,KAArB,CAAb;AACD,GAHkB,CAAnB;AAKAH,EAAAA,YAAY,CAACI,GAAb,GAAmB,uCAAe,kBAAiB;AACjD,WAAO,MAAMP,OAAO,CAACO,GAAR,CAAYN,OAAZ,CAAb;AACD,GAFkB,CAAnB;AAIAE,EAAAA,YAAY,CAACK,GAAb,GAAmB,uCAAe,kBAAiB;AACjD,WAAO,MAAMR,OAAO,CAACQ,GAAR,CAAYP,OAAZ,CAAb;AACD,GAFkB,CAAnB;AAIA,SAAOE,YAAP;AACD,CAnBD","sourcesContent":["import promisify from './promisify';\nimport { appendCallback, returnPromise } from './versatile-function';\n\n// todo) current mode is to skip empty numbers if they were deleted or something.\n// todo) alternative mode would be queue processes and not to make empty numbers. This will not guarentee the order.\n\nmodule.exports = function (storage, keyName, { mockKeyArg }) {\n  const fixedStorage = { ...storage };\n\n  if (!mockKeyArg) mockKeyArg = true;\n\n  fixedStorage.put = appendCallback(async function(key, value) {\n    if (!mockKeyArg) value = key;\n    return await storage.put(keyName, value);\n  });\n\n  fixedStorage.get = appendCallback(async function() {\n    return await storage.get(keyName);\n  });\n\n  fixedStorage.del = appendCallback(async function() {\n    return await storage.del(keyName);\n  });\n\n  return fixedStorage;\n};\n"],"file":"level-fixed-key.js"}