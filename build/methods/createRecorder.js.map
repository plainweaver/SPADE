{"version":3,"sources":["../../src/methods/createRecorder.js"],"names":["createRecorder","Proxy","set","target","property","value","receiver","recorder","history","push","Reflect","arguments","setPrototypeOf","prototype","defineProperty","key","descriptor","deleteProperty","get","undefined","getOwnPropertyDescriptor"],"mappings":";;;;;;;AAAA;;;;AAEe,SAASA,cAAT,GAA0B;AACvC,SAAO,IAAIC,KAAJ,CAAU,IAAV,EAAgB;AACrBC,IAAAA,GAAG,CAACC,MAAD,EAASC,QAAT,EAAmBC,KAAnB,EAA0BC,QAA1B,EAAoC;AACrCH,MAAAA,MAAM,CAACI,QAAP,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6B,CAAC,KAAD,EAAQL,QAAR,EAAkB,sBAAUC,KAAV,CAAlB,CAA7B;AACA,aAAOK,OAAO,CAACR,GAAR,CAAY,GAAGS,SAAf,CAAP;AACD,KAJoB;;AAKrBC,IAAAA,cAAc,CAACT,MAAD,EAASU,SAAT,EAAoB;AAChCV,MAAAA,MAAM,CAACI,QAAP,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6B,CAAC,gBAAD,EAAmB,sBAAUI,SAAV,CAAnB,CAA7B;AACA,aAAOH,OAAO,CAACE,cAAR,CAAuB,GAAGD,SAA1B,CAAP;AACD,KARoB;;AASrBG,IAAAA,cAAc,CAACX,MAAD,EAASY,GAAT,EAAcC,UAAd,EAA0B;AACtCb,MAAAA,MAAM,CAACI,QAAP,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6B,CAAC,gBAAD,EAAmBM,GAAnB,EAAwB,sBAAUC,UAAV,CAAxB,CAA7B;AACA,aAAON,OAAO,CAACI,cAAR,CAAuB,GAAGH,SAA1B,CAAP;AACD,KAZoB;;AAarBM,IAAAA,cAAc,CAACd,MAAD,EAASC,QAAT,EAAmB;AAC/BD,MAAAA,MAAM,CAACI,QAAP,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6B,CAAC,gBAAD,EAAmBL,QAAnB,CAA7B;AACA,aAAOM,OAAO,CAACO,cAAR,CAAuB,GAAGN,SAA1B,CAAP;AACD,KAhBoB;;AAiBrBO,IAAAA,GAAG,CAACf,MAAD,EAASC,QAAT,EAAmBE,QAAnB,EAA6B;AAC9B,UAAIF,QAAQ,KAAK,UAAjB,EAA6B,OAAOe,SAAP;AAC7B,aAAOT,OAAO,CAACQ,GAAR,CAAY,GAAGP,SAAf,CAAP;AACD,KApBoB;;AAqBrBS,IAAAA,wBAAwB,CAACjB,MAAD,EAASC,QAAT,EAAmB;AACzC,UAAIA,QAAQ,KAAK,UAAjB,EAA6B,OAAOe,SAAP;AAC7B,aAAOT,OAAO,CAACU,wBAAR,CAAiC,GAAGT,SAApC,CAAP;AACD;;AAxBoB,GAAhB,CAAP;AA0BD;;AAAA","sourcesContent":["import stringify from 'flatted';\n\nexport default function createRecorder() {\n  return new Proxy(this, {\n    set(target, property, value, receiver) {\n      target.recorder.history.push(['set', property, stringify(value)]);\n      return Reflect.set(...arguments);\n    },\n    setPrototypeOf(target, prototype) {\n      target.recorder.history.push(['setPrototypeOf', stringify(prototype)]);\n      return Reflect.setPrototypeOf(...arguments);\n    },\n    defineProperty(target, key, descriptor) {\n      target.recorder.history.push(['defineProperty', key, stringify(descriptor)]);\n      return Reflect.defineProperty(...arguments);\n    },\n    deleteProperty(target, property) {\n      target.recorder.history.push(['deleteProperty', property]);\n      return Reflect.deleteProperty(...arguments);\n    },\n    get(target, property, receiver) {\n      if (property === 'recorder') return undefined;\n      return Reflect.get(...arguments);\n    },\n    getOwnPropertyDescriptor(target, property) {\n      if (property === 'recorder') return undefined;\n      return Reflect.getOwnPropertyDescriptor(...arguments);\n    }\n  });\n};"],"file":"createRecorder.js"}