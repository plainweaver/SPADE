{"version":3,"sources":["../src/Overlays.js"],"names":["Overlay","data","layer","prev","next","Overlays","constructor","system","layers","use","overlays","console","log","Promise","each","overlay","call","original","recorder","receiver"],"mappings":";;;;;;;AAAA;;;;AAEA,SAASA,OAAT,GAAmB;AACjB,OAAKC,IAAL,GAAYC,KAAZ;AACA,OAAKC,IAAL,GAAYA,IAAI,CAACF,IAAL,GAAYE,IAAZ,GAAmB,IAA/B;AACA,OAAKC,IAAL,GAAY,IAAZ;AACD;;AAEc,MAAMC,QAAN,CAAe;AAC5BC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAClB,SAAKA,MAAL,GAAcA,MAAd,CADkB,CAElB;;AACA,SAAKC,MAAL,GAAc,EAAd;AACD;;AAED,QAAMC,GAAN,CAAU,GAAGC,QAAb,EAAuB;AACrB;AACA;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,WAAO,MAAMG,kBAAQC,IAAR,CAAaJ,QAAb,EAAuBK,OAAO,IACzCA,OAAO,CAACC,IAAR,CAAa,IAAb,EACE,KAAKT,MAAL,CAAYU,QADd,EAEE,KAAKT,MAFP,EAEe;AACb,SAAKD,MAAL,CAAYW,QAAZ,CAAqBC,QAHvB,CADW,CAAb;AAOD;;AAlB2B","sourcesContent":["import Promise from 'bluebird';\n\nfunction Overlay() {\n  this.data = layer;\n  this.prev = prev.data ? prev : null;\n  this.next = null;\n}\n\nexport default class Overlays {\n  constructor(system) {\n    this.system = system;\n    // todo) inner dimensional layers.\n    this.layers = {};\n  }\n\n  async use(...overlays) {\n    // todo) prevent manipulating same property within same layer.\n    // todo) use recorder\n    console.log(overlays);\n    return await Promise.each(overlays, overlay =>\n      overlay.call(null,\n        this.system.original,\n        this.layers, // overlayers\n        this.system.recorder.receiver,\n      )\n    );\n  }\n}\n"],"file":"Overlays.js"}